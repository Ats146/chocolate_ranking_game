<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rank Your Favourite Chocolates</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; }
  h2 { margin-bottom: 15px; }
  #chocolate-list { list-style: none; padding: 0; }
  #chocolate-list li {
    padding: 10px;
    margin-bottom: 5px;
    background: #f0f0f0;
    cursor: grab;
    border-radius: 4px;
    border: 1px solid #ccc;
  }
  #chocolate-list li.dragging {
    opacity: 0.5;
  }
  button {
    margin-top: 15px;
    padding: 10px 25px;
    cursor: pointer;
  }
</style>
</head>
<body>

<h2>Rank Your Favourite Chocolates</h2>
<p>Drag and drop the chocolates to rank them from your most to least favourite.</p>
<ul id="chocolate-list">
  <li draggable="true">Dairy Milk</li>
  <li draggable="true">Choki Choki</li>
  <li draggable="true">KitKat</li>
  <li draggable="true">Perk</li>
  <li draggable="true">Munch</li>
  <li draggable="true">5 Star</li>
  <li draggable="true">Milky Bar</li>
  <li draggable="true">Lollipop</li>
  <li draggable="true">Boomer</li>
  <li draggable="true">Fuse</li>
  <li draggable="true">Snickers</li>
  <li draggable="true">Gems</li>
  <li draggable="true">Bar One</li>
  <li draggable="true">Ferrero Rocher</li>
  <li draggable="true">Toblerone</li>
  <li draggable="true">Cadbury Bournville</li>
  <li draggable="true">Amul Dark</li>
  <li draggable="true">Hershey's Kisses</li>
</ul>

<button onclick="submitRanking()">Submit Ranking</button>

<script>
  const list = document.getElementById('chocolate-list');
  let dragSrcEl = null;

  function handleDragStart(e) {
    dragSrcEl = this;
    e.dataTransfer.effectAllowed = 'move';
    e.dataTransfer.setData('text/html', this.innerHTML);
    this.classList.add('dragging');
  }

  function handleDragOver(e) {
    if (e.preventDefault) {
      e.preventDefault(); // Necessary to allow drop
    }
    e.dataTransfer.dropEffect = 'move';
    return false;
  }

  function handleDragEnter() {
    this.classList.add('over');
  }

  function handleDragLeave() {
    this.classList.remove('over');
  }

  function handleDrop(e) {
    if (e.stopPropagation) {
      e.stopPropagation(); // stops the browser from redirecting.
    }

    if (dragSrcEl !== this) {
      dragSrcEl.innerHTML = this.innerHTML;
      this.innerHTML = e.dataTransfer.getData('text/html');
    }
    return false;
  }

  function handleDragEnd() {
    [...list.querySelectorAll('li')].forEach(item => {
      item.classList.remove('over', 'dragging');
    });
  }

  [...list.querySelectorAll('li')].forEach(item => {
    item.addEventListener('dragstart', handleDragStart, false);
    item.addEventListener('dragenter', handleDragEnter, false);
    item.addEventListener('dragover', handleDragOver, false);
    item.addEventListener('dragleave', handleDragLeave, false);
    item.addEventListener('drop', handleDrop, false);
    item.addEventListener('dragend', handleDragEnd, false);
  });

  function submitRanking() {
    const ranked = [...list.querySelectorAll('li')].map(li => li.textContent);
    alert('Thanks! Your chocolate ranking is saved. Check console for details.');
    console.log('Chocolate ranking:', ranked);
  }
</script>

</body>
</html>
